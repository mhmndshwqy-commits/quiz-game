<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<title>ğŸ¯ Ù„Ø¹Ø¨Ø© Ø§Ø®ØªØ¨Ø± Ù…Ø¹Ù„ÙˆÙ…Ø§ØªÙƒ - Ù…Ø³ØªÙˆÙŠØ§Øª ÙˆÙˆÙ‚Øª</title>
<style>
body {
  text-align: center;
  background: linear-gradient(to bottom, #caf0f8, #ffffff);
  font-family: "Cairo", sans-serif;
  direction: rtl;
}
h1 {
  color: #0077b6;
  margin-top: 20px;
}
#levelSelection, #quizBox {
  background: #fff;
  display: inline-block;
  padding: 25px;
  border-radius: 20px;
  box-shadow: 0 0 15px rgba(0,0,0,0.1);
  margin-top: 30px;
  width: 320px;
}
button {
  display: block;
  width: 220px;
  margin: 10px auto;
  padding: 10px;
  font-size: 18px;
  border-radius: 10px;
  border: none;
  background: #90e0ef;
  cursor: pointer;
  transition: 0.3s;
}
button:hover {
  background: #48cae4;
}
#result, #score, #timer {
  font-size: 22px;
  margin-top: 15px;
  font-weight: bold;
}
#nextBtn {
  background: #00b4d8;
  color: white;
  display: none;
}
#endButtons button {
  background: #0077b6;
  color: white;
}
</style>
</head>
<body>

<h1>ğŸ¯ Ù„Ø¹Ø¨Ø© Ø§Ø®ØªØ¨Ø± Ù…Ø¹Ù„ÙˆÙ…Ø§ØªÙƒ ğŸ¯</h1>

<!-- Ø´Ø§Ø´Ø© Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ù…Ø³ØªÙˆÙ‰ -->
<div id="levelSelection">
  <h2>Ø§Ø®ØªØ± Ø§Ù„Ù…Ø³ØªÙˆÙ‰:</h2>
  <button onclick="startGame('easy')">Ø³Ù‡Ù„ ğŸŸ¢</button>
  <button onclick="startGame('medium')">Ù…ØªÙˆØ³Ø· ğŸŸ¡</button>
  <button onclick="startGame('hard')">ØµØ¹Ø¨ ğŸ”´</button>
</div>

<!-- Ø´Ø§Ø´Ø© Ø§Ù„Ø£Ø³Ø¦Ù„Ø© -->
<div id="quizBox" style="display:none;">
  <h2 id="question"></h2>
  <div id="answers"></div>
  <p id="result"></p>
  <button id="nextBtn" onclick="nextQuestion()">Ø§Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„ØªØ§Ù„ÙŠ â¡ï¸</button>
  <p id="score">Ø§Ù„Ù†ØªÙŠØ¬Ø©: 0</p>
  <p id="timer">â± Ø§Ù„ÙˆÙ‚Øª: 0 Ø«Ø§Ù†ÙŠØ©</p>
</div>

<script>
const questions = {
  easy: [
    { q: "Ù…Ø§ Ø­Ø§ØµÙ„ 2 + 2 ØŸ", answers: ["3", "4", "5"], correct: "4" },
    { q: "Ù„ÙˆÙ† Ø§Ù„Ø³Ù…Ø§Ø¡ØŸ", answers: ["Ø£Ø®Ø¶Ø±", "Ø£Ø²Ø±Ù‚", "Ø£Ø­Ù…Ø±"], correct: "Ø£Ø²Ø±Ù‚" },
    { q: "Ù…Ø§ Ø¹Ø§ØµÙ…Ø© Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ©ØŸ", answers: ["Ø§Ù„Ø±ÙŠØ§Ø¶", "Ø¬Ø¯Ø©", "Ù…ÙƒØ©"], correct: "Ø§Ù„Ø±ÙŠØ§Ø¶" }
  ],
  medium: [
    { q: "ÙƒÙ… Ø¹Ø¯Ø¯ Ø£Ø±Ø¬Ù„ Ø§Ù„Ø¹Ù†ÙƒØ¨ÙˆØªØŸ", answers: ["6", "8", "10"], correct: "8" },
    { q: "Ù…Ø§ Ù‡Ùˆ Ù†Ø§ØªØ¬ 9 Ã— 3 ØŸ", answers: ["27", "18", "36"], correct: "27" },
    { q: "Ù…Ø§ Ø§Ø³Ù… ÙƒÙˆÙƒØ¨Ù†Ø§ØŸ", answers: ["Ø§Ù„Ù…Ø±ÙŠØ®", "Ø§Ù„Ø£Ø±Ø¶", "Ø§Ù„Ø²Ù‡Ø±Ø©"], correct: "Ø§Ù„Ø£Ø±Ø¶" }
  ],
  hard: [
    { q: "Ù…Ù† Ù…Ø®ØªØ±Ø¹ Ø§Ù„Ù…ØµØ¨Ø§Ø­ Ø§Ù„ÙƒÙ‡Ø±Ø¨Ø§Ø¦ÙŠØŸ", answers: ["Ø£ÙŠÙ†Ø´ØªØ§ÙŠÙ†", "Ø¥Ø¯ÙŠØ³ÙˆÙ†", "Ù†ÙŠÙˆØªÙ†"], correct: "Ø¥Ø¯ÙŠØ³ÙˆÙ†" },
    { q: "ÙƒÙ… Ø¹Ø¯Ø¯ Ù‚Ø§Ø±Ø§Øª Ø§Ù„Ø¹Ø§Ù„Ù…ØŸ", answers: ["5", "6", "7"], correct: "7" },
    { q: "Ù…Ø§ Ù‡Ùˆ Ø£Ø³Ø±Ø¹ Ø­ÙŠÙˆØ§Ù† Ø¨Ø±ÙŠØŸ", answers: ["Ø§Ù„ÙÙ‡Ø¯", "Ø§Ù„Ø£Ø³Ø¯", "Ø§Ù„Ø­ØµØ§Ù†"], correct: "Ø§Ù„ÙÙ‡Ø¯" }
  ]
};

let level = "";
let index = 0;
let score = 0;
let timer;
let timeLeft = 0;

// ØªØ­Ø¯ÙŠØ¯ Ø§Ù„ÙˆÙ‚Øª Ø­Ø³Ø¨ Ø§Ù„Ù…Ø³ØªÙˆÙ‰
function getLevelTime(lvl) {
  if (lvl === "easy") return 40;
  if (lvl === "medium") return 30;
  if (lvl === "hard") return 20;
  return 30;
}

// Ø¨Ø¯Ø¡ Ø§Ù„Ù„Ø¹Ø¨Ø©
function startGame(selectedLevel) {
  level = selectedLevel;
  index = 0;
  score = 0;
  timeLeft = getLevelTime(level);
  document.getElementById("levelSelection").style.display = "none";
  document.getElementById("quizBox").style.display = "block";
  document.getElementById("score").innerText = "Ø§Ù„Ù†ØªÙŠØ¬Ø©: 0";
  loadQuestion();
  startTimer();
}

// ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø³Ø¤Ø§Ù„
function loadQuestion() {
  const q = questions[level][index];
  document.getElementById("question").innerText = q.q;
  const answersDiv = document.getElementById("answers");
  answersDiv.innerHTML = "";
  q.answers.forEach(ans => {
    const btn = document.createElement("button");
    btn.innerText = ans;
    btn.onclick = () => checkAnswer(btn);
    answersDiv.appendChild(btn);
  });
  document.getElementById("result").innerText = "";
  document.getElementById("nextBtn").style.display = "none";
}

// Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø©
function checkAnswer(btn) {
  const correct = questions[level][index].correct;
  if (btn.innerText === correct) {
    document.getElementById("result").innerText = "Ø£Ø­Ø³Ù†Øª! âœ…";
    btn.style.background = "#80ed99";
    score++;
  } else {
    document.getElementById("result").innerText = "Ø¥Ø¬Ø§Ø¨Ø© Ø®Ø§Ø·Ø¦Ø© âŒ";
    btn.style.background = "#ff6b6b";
  }
  document.getElementById("score").innerText = "Ø§Ù„Ù†ØªÙŠØ¬Ø©: " + score;
  document.querySelectorAll("#answers button").forEach(b => b.disabled = true);
  document.getElementById("nextBtn").style.display = "inline-block";
}

// Ø§Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„ØªØ§Ù„ÙŠ
function nextQuestion() {
  index++;
  if (index < questions[level].length) {
    loadQuestion();
  } else {
    endGame();
  }
}

// Ø¹Ø¯Ø§Ø¯ Ø§Ù„ÙˆÙ‚Øª
function startTimer() {
  clearInterval(timer);
  document.getElementById("timer").innerText = "â± Ø§Ù„ÙˆÙ‚Øª: " + timeLeft + " Ø«Ø§Ù†ÙŠØ©";
  timer = setInterval(() => {
    timeLeft--;
    document.getElementById("timer").innerText = "â± Ø§Ù„ÙˆÙ‚Øª: " + timeLeft + " Ø«Ø§Ù†ÙŠØ©";
    if (timeLeft <= 0) {
      clearInterval(timer);
      endGame();
    }
  }, 1000);
}

// Ù†Ù‡Ø§ÙŠØ© Ø§Ù„Ù„Ø¹Ø¨Ø©
function endGame() {
  clearInterval(timer);
  document.getElementById("quizBox").innerHTML = `
    <h2>ğŸ‰ Ø§Ù†ØªÙ‡Øª Ø§Ù„Ù„Ø¹Ø¨Ø© ğŸ‰</h2>
    <p>Ø¯Ø±Ø¬ØªÙƒ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ©: ${score} Ù…Ù† ${questions[level].length}</p>
    <div id="endButtons">
      <button onclick="restartGame()">ğŸ” Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ù„Ø¹Ø¨</button>
      <button onclick="backToLevels()">ğŸ  Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ù…Ø³ØªÙˆÙŠØ§Øª</button>
    </div>
  `;
}

// Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ù„Ø¹Ø¨ ÙÙŠ Ù†ÙØ³ Ø§Ù„Ù…Ø³ØªÙˆÙ‰
function restartGame() {
  document.getElementById("quizBox").innerHTML = `
    <h2 id="question"></h2>
    <div id="answers"></div>
    <p id="result"></p>
    <button id="nextBtn" onclick="nextQuestion()">Ø§Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„ØªØ§Ù„ÙŠ â¡ï¸</button>
    <p id="score">Ø§Ù„Ù†ØªÙŠØ¬Ø©: 0</p>
    <p id="timer">â± Ø§Ù„ÙˆÙ‚Øª: 0 Ø«Ø§Ù†ÙŠØ©</p>
  `;
  startGame(level);
}

// Ø§Ù„Ø±Ø¬ÙˆØ¹ Ù„Ø´Ø§Ø´Ø© Ø§Ù„Ù…Ø³ØªÙˆÙŠØ§Øª
function backToLevels() {
  clearInterval(timer);
  document.getElementById("quizBox").style.display = "none";
  document.getElementById("levelSelection").style.display = "block";
}
</script>

</body>
</html>
